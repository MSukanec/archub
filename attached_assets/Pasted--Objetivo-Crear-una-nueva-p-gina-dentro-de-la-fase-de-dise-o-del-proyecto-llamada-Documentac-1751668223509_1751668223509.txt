## Objetivo

Crear una nueva p谩gina dentro de la fase de dise帽o del proyecto llamada **"Documentaci贸n"**, que permita al usuario gestionar todos los archivos y entregables asociados al proyecto: planos, PDFs, renders, etc.

---

## 1. Estructura general

La p谩gina debe mostrar los documentos en formato **cards agrupadas por carpeta l贸gica** o **por fase del cronograma** (`design_project_phases`).

Agregar un **toggle superior** con las dos vistas posibles:
-  Vista por carpeta (Ej: "Anteproyecto", "Ejecutivo", "Render Final")
- П Vista por fase de dise帽o

En cada agrupaci贸n mostrar los documentos como **cards** que incluyan:

- Nombre del archivo
- Icono por tipo (`.pdf`, `.dwg`, `.jpg`, etc.)
- Fecha de carga
- Estado (`pendiente`, `en revisi贸n`, `aprobado`, `rechazado`)
- Bot贸n de descarga
- Men煤 contextual con opciones:
  - Ver detalles
  - Reemplazar archivo
  - Cambiar estado
  - Eliminar

---

## 2. Subida de documento

Bot贸n superior derecho: `+ Subir Documento`

Abre un **modal con el siguiente formulario**:

- Nombre del documento (input)
- Archivo (input file)
- Carpeta l贸gica (`select` con valores: Anteproyecto, Ejecutivo, Render, Otro)
- Fase de dise帽o (opcional, `select` que consulta `design_project_phases`)
- Comentario o descripci贸n (textarea opcional)
- Visibilidad (`select`: solo equipo / compartido con cliente)
- Estado inicial (`select`: pendiente / en revisi贸n / aprobado / rechazado)
- Versi贸n inicial (campo oculto o fijo en 1)

---

## 3. Al guardar:

1. Subir el archivo al bucket `design-documents` (ya existe, no es p煤blico).
2. Generar el `file_path` con un UUID y extensi贸n.
3. Usar `.getPublicUrl()` para guardar `file_url`.
4. Insertar en la tabla `design_documents`:

```ts
{
  name,
  description,
  file_path,
  file_url,
  file_type,
  version_number: 1,
  project_id,
  organization_id,
  design_phase_id (opcional),
  folder,
  status,
  created_by: user.id,
}
4. Base de datos
Ya est谩 creada la tabla design_documents con RLS activas. Todos los archivos deben estar correctamente relacionados con esta tabla para que sean visibles.

Resultado esperado
El usuario puede subir, visualizar y agrupar documentos del proyecto.

Cada documento est谩 versionado, tiene estado, y puede vincularse a una fase del cronograma.

Los archivos se cargan correctamente al bucket design-documents y su acceso est谩 protegido por RLS.