Estoy trabajando en el componente ParameterNodeEditor.tsx y necesito que corrijas y simplifiques la l√≥gica de duplicaci√≥n y eliminaci√≥n de nodos de par√°metros.

‚úÖ Contexto importante (por favor, le√© bien esto antes de modificar):

Cuando yo duplico un nodo, no estoy creando un nuevo par√°metro real, solo estoy creando una nueva visualizaci√≥n del mismo par√°metro (con el mismo parameter_id).

El nodo duplicado debe tener:

Un nuevo id (autogenerado por Supabase al insertarse en task_parameter_positions)

El mismo parameter_id que el nodo original

Una posici√≥n distinta (x, y)

Y un visible_options propio

Ya elimin√© la columna original_parameter_id porque no necesito distinguir nodos duplicados desde la DB. La √∫nica diferencia entre el nodo original y uno duplicado es que su id !== parameter_id.

‚úÖ Qu√© necesito que arregles:

üîÅ DUPLICACI√ìN
Al hacer clic en duplicar:

Insertar en task_parameter_positions una nueva fila con:

parameter_id: el mismo que el nodo original

x, y: desplazados un poco

visible_options: las mismas que el original

Usar el id generado como id del nuevo nodo

Mostrarlo correctamente en el canvas con las opciones correspondientes

¬°Nada m√°s! No hay que duplicar el par√°metro ni hacer l√≥gica extra

üóë ELIMINACI√ìN
Cuando elimino un nodo del canvas, debe eliminarse su task_parameter_positions de la DB y no debe volver a aparecer.

Actualmente, el nodo se vuelve a crear autom√°ticamente porque justo despu√©s de eliminar, se guarda su posici√≥n al soltar el mouse.

Esto hay que corregir: si estoy eliminando el nodo, no deber√≠as guardar su posici√≥n al mismo tiempo.

‚úÖ ¬øC√≥mo identificar si un nodo es duplicado?

Muy f√°cil: si node.id !== node.data.parameter.id, entonces es una visualizaci√≥n duplicada.

‚úÖ En resumen:

La duplicaci√≥n es solo visual (misma l√≥gica que duplicar una tarjeta en Trello).

La tabla task_parameter_positions representa visualizaciones, no par√°metros nuevos.

El parameter_id siempre apunta al par√°metro real.

Elimin√© original_parameter_id para simplificar, as√≠ que no lo uses m√°s.

Si necesit√°s ayuda para detectar estos casos o reestructurar las funciones, preguntame. Pero no agregues l√≥gica nueva sin que lo pida. Solo arregl√° lo que te marqu√©.