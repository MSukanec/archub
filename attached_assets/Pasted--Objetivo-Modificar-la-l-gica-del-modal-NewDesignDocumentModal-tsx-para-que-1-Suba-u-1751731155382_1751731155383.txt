### üéØ Objetivo

Modificar la l√≥gica del modal `NewDesignDocumentModal.tsx` para que:

1. Suba un archivo PDF al bucket `design-documents` en Supabase Storage
2. Guarde los metadatos en la tabla `design_documents`
3. Cumpla con las RLS actuales (el campo `created_by` debe ser igual a `user.id`)

---

### üß± Tabla: `design_documents`

Debe guardarse una fila con estos campos:

- `id`: UUID (autom√°tico)
- `project_id`: (ya se obtiene desde contexto)
- `name`: nombre del documento (input del usuario)
- `description`: descripci√≥n (input del usuario)
- `file_url`: ruta final del archivo en Supabase Storage
- `file_name`: nombre original del archivo
- `file_size`: tama√±o en bytes (tipo `int8`)
- `visibility`: enum (`public` o `private`)
- `status`: enum (`pendiente`, `aprobado`, etc.)
- `folder_id`: UUID (opcional)
- `created_by`: UUID que debe ser igual a `user.id` (‚ö†Ô∏è **no `auth.user.id`**)
- `created_at`, `updated_at`: autom√°ticos

---

### üì§ Flujo requerido

1. El usuario selecciona el archivo
2. Se genera un `file_path` con `uuid + .pdf`
3. Se sube el archivo al bucket `design-documents` con:

```ts
supabase.storage.from('design-documents').upload(file_path, file)
Si la subida es exitosa:

Se obtiene el tama√±o del archivo (file.size)

Se obtiene su nombre (file.name)

Se construye la URL (file_url) relativa a Supabase

Se guarda una fila en design_documents con todos los campos incluyendo:

ts
Copiar
Editar
created_by: user.id
‚ö†Ô∏è No usar auth.user.id, usar user.id del sistema (viene desde la tabla users)

‚úÖ Detalles adicionales
Mostrar un toast de error si falla la subida o el insert

Deshabilitar el bot√≥n "Guardar" durante la carga

Mostrar un toast de √©xito si se guarda correctamente

Cerrar el modal y refrescar la lista tras guardar

üí° Nota
La pol√≠tica RLS de lectura actual solo permite ver documentos donde created_by = auth.uid(), y el campo created_by en la tabla es una foreign key a users.id, por eso debe insertarse con user.id.