üß† PROMPT PARA REPLIT
Necesito que modernices completamente el flujo de creaci√≥n y vinculaci√≥n de contactos en Archub (archivo ContactModal.tsx y componentes relacionados).

Te explico el contexto y lo que quiero lograr:

Actualmente, existe una funcionalidad vieja llamada ‚ÄúVincular usuario existente‚Äù, con un bot√≥n verde en la parte superior del modal. Esa funcionalidad estaba pensada para buscar manualmente un usuario de Archub y vincularlo a un contacto, pero quiero reemplazarla por una l√≥gica m√°s moderna, autom√°tica y natural. No debe quedar ning√∫n bot√≥n de vinculaci√≥n manual visible todo el tiempo.

---

### OBJETIVO GENERAL
Quiero que el sistema detecte autom√°ticamente, mientras el usuario escribe un email en el campo ‚ÄúEmail‚Äù, si ese correo pertenece a un usuario de Archub (tabla `users` en Supabase).  
Seg√∫n el resultado, debe mostrar feedback visual e interacciones simples.

---

### DETALLE DEL NUEVO FLUJO

#### 1. Elimin√° la UI vieja
- Quit√° completamente el bloque del bot√≥n ‚ÄúVincular usuario existente‚Äù.
- Elimin√° cualquier l√≥gica comentada o inactiva entre las l√≠neas ~360‚Äì460 del archivo ContactModal.tsx.
- Todo debe pasar autom√°ticamente desde el campo ‚ÄúEmail‚Äù.

#### 2. Detecci√≥n autom√°tica de usuarios existentes
- Al escribir o modificar el campo de email, hac√© un `debounced fetch` a Supabase (0.5‚Äì1s de delay) con algo as√≠:
  ```ts
  const { data: existingUser } = await supabase
    .from('users')
    .select('id, full_name, email, avatar_url')
    .ilike('email', email.trim())
    .single();


Si encuentra un usuario, guardalo en estado React (existingUser) para renderizar el feedback.

3. Feedback visual inline (bajo el campo Email)

Si se encuentra un usuario existente, mostr√°s debajo del campo:

üîó Ya existe un usuario de Archub con este correo.
[Vincular a Jorge Benitest]


(El nombre y avatar deben venir de Supabase).

Si no se encuentra, mostr√°s:

‚úâÔ∏è No se encontr√≥ ning√∫n usuario de Archub con este correo.


(sin bot√≥n, s√≥lo texto informativo).

Este feedback debe ser reactivo y desaparecer si el usuario borra o cambia el email.

4. Vinculaci√≥n al hacer clic

Si el usuario hace clic en ‚ÄúVincular a [nombre]‚Äù:

Se completa autom√°ticamente el campo linked_user_id con el ID del usuario encontrado.

Se autocompletan los campos full_name y email del contacto.

No es necesario abrir un modal adicional.

Se guarda normalmente el contacto (submit del form).

5. Mantener trigger SQL en Supabase

No hace falta crear l√≥gica extra en el backend. Ya existe un trigger llamado handle_contact_link_user() que asegura que si el contacto se guarda con un email de usuario existente, se complete linked_user_id aunque el frontend no lo haya hecho.

6. Dise√±o

Mantener el estilo actual del modal (compacto, limpio, verde Archub).

Usar el mismo tama√±o de fuente y espaciado que los mensajes de validaci√≥n de formulario existentes.

Usar √≠conos livianos (lucide-react si ya est√° instalado): Link2 para vinculado, Mail para no vinculado.

7. Validaciones

Si el usuario est√° vinculado (linked_user_id no null), mostrar un chip o badge arriba del modal:

‚ÄúVinculado a usuario de Archub: [nombre]‚Äù

RESUMEN FINAL

El flujo debe quedar as√≠:

El usuario abre el modal y escribe un email.

El sistema detecta autom√°ticamente si existe un usuario con ese mail.

Si lo encuentra ‚Üí muestra aviso y bot√≥n ‚ÄúVincular‚Äù.

Si no lo encuentra ‚Üí muestra aviso ‚ÄúNo vinculado‚Äù.

Al guardar ‚Üí si hay vinculaci√≥n, se completa autom√°ticamente linked_user_id.

TECNOLOG√çAS

Frontend: React, Typescript, Tailwind.

Backend: Supabase (ya configurado, no tocar).

Usar debounce con useEffect o una librer√≠a simple (no instalar nuevas dependencias pesadas).

Implement√° esto de forma clara y limpia, con c√≥digo bien estructurado y comentado.