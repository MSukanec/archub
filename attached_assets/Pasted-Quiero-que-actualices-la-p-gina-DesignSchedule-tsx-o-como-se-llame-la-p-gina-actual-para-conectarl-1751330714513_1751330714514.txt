Quiero que actualices la p√°gina DesignSchedule.tsx (o como se llame la p√°gina actual) para conectarla completamente a Supabase. Ahora usamos 5 tablas nuevas que representan fases y tareas del dise√±o de un proyecto de arquitectura. Todo debe estar conectado din√°micamente, no est√°tico como ahora.

üî∑ Estructura l√≥gica
Estas son las tablas y su relaci√≥n:

design_phases: cat√°logo general de fases (pueden ser del sistema o personalizadas por organizaci√≥n).

design_project_phases: fases concretas dentro de un proyecto (project_id, design_phase_id, start_date, end_date, name, position).

design_tasks: cat√°logo general de tareas posibles en una fase (de sistema o personalizadas).

design_phase_tasks: tareas dentro de una fase concreta (project_phase_id, design_task_id, start_date, end_date, status, assigned_to, priority).

design_gantt_links: relaciones entre tareas (tipo Gantt: dependencia, lead/lag, etc).

üìã Lo que quiero que hagas
Cargar las design_project_phases activas para el project_id actual.

Mostrar su name, start_date, end_date, ordenadas por position.

Agruparlas visualmente como ‚Äúsecciones‚Äù del cronograma.

Dentro de cada fase, cargar sus design_phase_tasks:

Mostrar:

Nombre de la tarea (v√≠a join con design_tasks)

Fecha inicio y fin

Estado (Por hacer, En progreso, Completado)

Asignado a (mostrar avatar y nombre con join a tabla contacts)

Prioridad (color: rojo = alta, amarillo = media, verde = baja)

Agregar botones funcionales:

+ Nueva Fase: que abra un modal para crear una design_project_phase

+ Nueva Tarea dentro de cada fase: para crear una design_phase_task

Reutilizar componentes modales existentes (CustomModal, etc).

Visualizaci√≥n del Gantt horizontal con fechas:

Mostrar los d√≠as arriba (como ya est√°) pero din√°mico seg√∫n la duraci√≥n del proyecto (ejemplo: 60 d√≠as desde fecha m√°s temprana a m√°s tard√≠a).

Dibujar las tareas como barras de Gantt dentro de sus fases, con colores seg√∫n estado.

Colores de estado:

Por hacer: amarillo

En progreso: azul

Completado: verde

Dise√±o compacto y claro:

Que siga la misma est√©tica que el resto de la app (Tailwind, modo dark/light, etc)

Reutilizar los componentes de estilo existentes

Importante:

Usar Supabase para las consultas con react-query

Filtrar por project_id actual, is_active = true, y organization_id seg√∫n contexto

Si no hay tareas: mostrar "0 tareas" como ahora

Soporte para editar fechas (drag o modal si ya lo ten√©s)

Dejar lista la integraci√≥n futura con design_gantt_links (relaciones entre tareas)